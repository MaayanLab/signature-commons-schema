{
  "$id": "/@dcic/signature-commons-schema/meta/signature/draft-1.json",
  "$schema": "http://json-schema.org/draft-04/schema#",
  "allOf": [
    {
      "$ref": "/@dcic/signature-commons-schema/core/meta.json"
    },
    {
      "type": "object",
      "properties": {
        "Accession": {
          "description": "External accession of the signature",
          "type": "array",
          "items": {
            "type": "object",
            "properties": {
              "ID": {
                "description": "External identifier",
                "type": "string"
              },
              "Type": {
                "description": "The type of the identifier",
                "type": "string",
                "enum": [
                  "ArrayExpress Accession",
                  "GEO Dataset Accession",
                  "GEO Platform Accession",
                  "GEO Series Accession",
                  "NCI PID UUID",
                  "Grant Number"
                ]
              }
            },
            "required": [
              "ID",
              "Type"
            ]
          }
        },
        "Age": {
          "description": "Age of the samples",
          "type": "string"
        },
        "Assay": {
          "description": "The assay (TODO: validate against official list)",
          "type": "string"
        },
        "Authors": {
          "description": "The authors involved with the signature.",
          "type": "string"
        },
        "Batch": {
          "description": "The batch",
          "type": "string"
        },
        "Biological Process": {
          "description": "GO Biological Process.",
          "type": "string"
        },
        "Brain Region": {
          "description": "Region of the brain where the samples were harvested",
          "type": "string"
        },
        "Breed": {
          "description": "Breed of the sample",
          "type": "string"
        },
        "Category Code": {
          "description": "Category code of the gene set.",
          "type": "string"
        },
        "Cell Line": {
          "properties": {
            "Accession": {
              "description": "Accession number",
              "type": "string"
            },
            "Name": {
              "description": "Official name of cell line",
              "type": "string"
            }
          },
          "required": [
            "Name"
          ],
          "type": "object"
        },
        "Cellular Component": {
          "description": "GO Cellular Component",
          "type": "string"
        },
        "Cellular Compartment": {
          "description": "Subcellular localization information",
          "type": "string"
        },
        "Chip": {
          "description": "Source platform",
          "type": "string"
        },
        "Chromosome Location": {
          "description": "Location in the chromosome",
          "type": "string"
        },
        "Complex": {
          "description": "Protein complexes",
          "type": "string"
        },
        "Complex ID": {
          "description": "Complex Identifier",
          "type": "string"
        },
        "Computational Method": {
          "description": "Algorithm used",
          "type": "string"
        },
        "Contributor": {
          "description": "Names of the contributors",
          "type": "string"
        },
        "Contributor Org": {
          "description": "Contributing organization",
          "type": "string"
        },
        "Description": {
          "description": "Description of the signature",
          "type": "string"
        },
        "Direction": {
          "type": "string",
          "description": "Tells whether the data are up regulated or down regulated",
          "enum": [
            "up",
            "down"
          ]
        },
        "Disease": {
          "description": "Disease being studied",
          "type": "array",
          "items": {
            "type": "object",
            "properties": {
              "Name": {
                "description": "Name of the disease",
                "type": "string"
              },
              "Accession": {
                "description": "Ontology accession of the disease (DOID, MONDO)",
                "type": "string"
              },
              "Reference": {
                "description": "External reference for the disease",
                "type": "string"
              }
            },
            "required": [
              "Name"
            ]
          }
        },
        "Exact Source": {
          "description": "Source of the signature",
          "type": "string"
        },
        "Experiment": {
          "description": "Experiment performed",
          "type": "string"
        },
        "Experimental Group": {
          "description": "Experimental group",
          "type": "string"
        },
        "External Details Url": {
          "description": "External link for more details",
          "format": "uri",
          "type": "string"
        },
        "GOID": {
          "description": "Gene ontology ID",
          "pattern": "GO:[0-9]+",
          "type": "string"
        },
        "Gene": {
          "description": "The gene (TODO: validate against official list)",
          "type": "array",
          "items": {
            "type": "object",
            "properties": {
              "Name": {
                "description": "Name of the disease",
                "type": "string"
              },
              "Accession": {
                "description": "Ontology accession of the disease (DOID, MONDO)",
                "type": "string"
              }
            },
            "required": [
              "Name"
            ]
          }
        },
        "Gene Family": {
          "description": "The family of genes (TODO: validate against official list)",
          "type": "string"
        },
        "Gene Set": {
          "description": "Name of the gene set",
          "type": "string"
        },
        "Genome Build": {
          "description": "Genome assembly build",
          "type": "string"
        },
        "HMDID": {
          "description": "HMDB ID",
          "pattern": "HMDB[0-9]+",
          "type": "string"
        },
        "HPOID": {
          "description": "Human Phenotype Ontology ID",
          "pattern": "[0-9]+",
          "type": "string"
        },
        "KEGG ID": {
          "description": "",
          "pattern": "hsa[0-9]+",
          "type": "string"
        },
        "Library": {
          "description": "Enrichr Library",
          "type": "string"
        },
        "Metabolite": {
          "description": "The metabolite.",
          "type": "string"
        },
        "MicroRNA": {
          "description": "The microRNA",
          "type": "string"
        },
        "Molecular Function": {
          "description": "GO molecular funtion",
          "type": "string"
        },
        "Mouse Phenotype ID": {
          "description": "",
          "pattern": "MP[0-9]+",
          "type": "string"
        },
        "Number of genes": {
          "description": "Number of genes in the signature",
          "type": "number"
        },
        "Organism": {
          "description": "The organism (TODO: validate against official list)",
          "type": "string"
        },
        "Original String": {
          "description": "The original string recognized during processing",
          "type": "string"
        },
        "PMID": {
          "description": "PubMed ID",
          "pattern": "[0-9]+",
          "type": "string"
        },
        "PubChem CID": {
          "description": "PubChem CID",
          "type": "string"
        },
        "PTM": {
          "description": "Post translational modification",
          "type": "string"
        },
        "PWM": {
          "description": "Position Weight Matrices (PWMs)",
          "type": "string"
        },
        "Pathway": {
          "description": "The signature's pathway",
          "type": "string"
        },
        "Pathway ID": {
          "description": "The ID of the pathway",
          "type": "string"
        },
        "Patient ID": {
          "description": "Patient Identifier",
          "type": "string"
        },
        "Perturbation": {
          "description": "The perturbation performed in the study",
          "type": "array",
          "items": {
            "type": "object",
            "properties": {
              "Name": {
                "description": "Name of the Perturbation",
                "type": "string"
              },
              "Original String": {
                "description": "The original string",
                "type": "string"
              }
            },
            "oneOf": [
              {
                "required": [
                  "Original String"
                ]
              },
              {
                "required": [
                  "Name"
                ]
              }
            ]
          }
        },
        "Perturbation ID": {
          "description": "The ID of the perturbation",
          "type": "string"
        },
        "Perturbation Type": {
          "description": "The type of perturbation",
          "type": "string"
        },
        "Phenotype": {
          "description": "The phenotype being studied (TODO: Should we collapse Human Phenotype, Mouse Phenotype, and Phenotype into just Phenotype",
          "type": "string"
        },
        "Processing Type": {
          "description": "The processing type (TODO: validate against official list)",
          "type": "string"
        },
        "Program": {
          "description": "The program/project involved witht the signature",
          "type": "string"
        },
        "Protein Domain": {
          "description": "Structural protein domain.",
          "type": "string"
        },
        "Receptor": {
          "description": "The receptor",
          "type": "string"
        },
        "Resource": {
          "description": "Resource used to gather the signature",
          "type": "string"
        },
        "Sex": {
          "description": "the sex of the sample",
          "enum": [
            "female",
            "male"
          ],
          "type": "string"
        },
        "Small Molecule": {
          "description": "Small molecule used in the study",
          "type": "array",
          "items": {
            "type": "object",
            "properties": {
              "Name": {
                "description": "Name of the disease",
                "type": "string"
              },
              "Accession": {
                "description": "Ontology accession",
                "type": "string"
              },
              "Concentration": {
                "description": "External reference for the disease",
                "type": "string"
              }
            },
            "required": [
              "Name"
            ]
          }
        },
        "Sub Category Code": {
          "description": "Sub-collection the signature belongs to",
          "enum": [
            "CGN",
            "CM"
          ],
          "type": "string"
        },
        "Systematic Name": {
          "description": "Alternative identifier",
          "type": "string"
        },
        "Table Number": {
          "description": "Figure/Table number from the published literature where the signature was extracted",
          "type": "string"
        },
        "Taxon": {
          "description": "The taxon involved in the study",
          "type": "string"
        },
        "Time Point": {
          "description": "Time points used in the study.",
          "type": "string"
        },
        "Tissue": {
          "description": "The tissue context",
          "type": "array",
          "items": {
            "type": "object",
            "properties": {
              "Name": {
                "description": "Name of the tissue",
                "type": "string"
              },
              "Accession": {
                "description": "Ontology accession",
                "type": "string"
              },
              "Original String": {
                "description": "The original string",
                "type": "string"
              }
            },
            "oneOf": [
              {
                "required": [
                  "Name",
                  "Accession"
                ]
              },
              {
                "required": [
                  "Name",
                  "Accession",
                  "Original String"
                ]
              },
              {
                "required": [
                  "Name",
                  "Original String"
                ]
              },
              {
                "required": [
                  "Original String"
                ]
              },
              {
                "required": [
                  "Name"
                ]
              }
            ]
          }
        },
        "Virus": {
          "description": "Name of the Virus",
          "type": "string"
        },
        "Wiki Pathway ID": {
          "description": "Wiki Pathway identifier",
          "type": "string"
        }
      },
      "required": [
        "Assay",
        "Number of genes"
      ],
      "oneOf": [
        {
          "required": [
            "Gene",
            "Gene Family"
          ]
        },
        {
          "required": [
            "Cell Line"
          ]
        }
      ]
    }
  ]
}